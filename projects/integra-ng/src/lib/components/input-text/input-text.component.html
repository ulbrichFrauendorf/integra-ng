<div
  class="i-input-wrapper"
  [class.invalid]="showErrors"
  [class.i-input--fluid]="fluid"
  [class.i-input--no-float]="!useFloatLabel"
  [attr.id]="componentId"
>
  <div
    [ngClass]="useFloatLabel ? 'float-label' : 'normal-input'"
    class="i-input-container"
    [class.has-icon]="icon"
  >
    <div class="i-input-icon-wrapper">
      @if (icon) {
      <span class="i-input-icon" [attr.aria-hidden]="true">
        <i [class]="icon" [attr.aria-hidden]="true"></i>
      </span>
      }
      <input
        #inputElement
        [id]="id || componentId"
        [attr.name]="name"
        [type]="type"
        [attr.autocomplete]="autocomplete"
        [disabled]="disabled"
        [readonly]="readonly"
        [value]="hideText ? '' : value || ''"
        (input)="handleInput($event)"
        (focus)="handleFocus()"
        (blur)="handleBlur()"
        (animationstart)="handleAutoFillAnimation($event)"
        [placeholder]="useFloatLabel ? ' ' : placeholder || label"
        class="i-input"
        [class.has-icon]="icon"
        [class.hide-text]="hideText"
        [class.readonly]="readonly"
        [class.component-border]="backgroundStyle === 'component'"
        [iTooltip]="showErrors ? (getErrorMessage() || '') : ''"
        tooltipPosition="below"
        [tooltipDelay]="100"
      />
      @if (type === 'number' && !disabled && !readonly) {
      <div class="i-input-spinners">
        <button
          type="button"
          class="i-input-spinner-button i-input-spinner-up"
          (click)="incrementNumber(inputElement)"
          [attr.aria-label]="'Increment ' + label"
          tabindex="-1"
        >
          <i class="pi pi-chevron-up"></i>
        </button>
        <button
          type="button"
          class="i-input-spinner-button i-input-spinner-down"
          (click)="decrementNumber(inputElement)"
          [attr.aria-label]="'Decrement ' + label"
          tabindex="-1"
        >
          <i class="pi pi-chevron-down"></i>
        </button>
      </div>
      }
    </div>
    @if (useFloatLabel) {
    <label
      [for]="id || componentId"
      class="i-label"
      [class.floated]="forceFloated || hasValue"
      >{{ label }}</label
    >
    }
    <ng-content></ng-content>
  </div>
</div>
