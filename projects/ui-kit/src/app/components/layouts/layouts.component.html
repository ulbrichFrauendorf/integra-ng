<div class="layouts-demo">
  <header class="demo-header">
    <h1>Layout Component</h1>
    <p>
      Complete application layout system with responsive sidebar navigation,
      customizable topbar, and built-in theme switching. Perfect for building
      admin dashboards and multi-page applications.
    </p>
  </header>

  <div class="cards-container">
    <!-- Screenshot Preview -->
    <app-demo-card [title]="'Layout Preview'">
      <p class="section-description">
        The layout component provides a complete application shell with
        sidebar navigation, top bar with logo and actions, and a main content
        area.
      </p>
      <div class="layout-preview">
        <img
          src="assets/screenshots/layout-preview.png"
          alt="Layout Component Preview"
          class="preview-image"
          onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
        />
        <div class="preview-placeholder" style="display: none;">
          <div class="placeholder-layout">
            <div class="placeholder-topbar">
              <div class="placeholder-logo"></div>
              <div class="placeholder-actions"></div>
            </div>
            <div class="placeholder-body">
              <div class="placeholder-sidebar">
                <div class="placeholder-menu-item"></div>
                <div class="placeholder-menu-item"></div>
                <div class="placeholder-menu-item"></div>
              </div>
              <div class="placeholder-content">
                <div class="placeholder-text"></div>
                <div class="placeholder-text"></div>
              </div>
            </div>
          </div>
          <p class="placeholder-text-label">
            This is the current layout you're viewing!
          </p>
        </div>
      </div>
    </app-demo-card>

    <!-- Installation -->
    <app-demo-card
      [title]="'Installation'"
      [sourceCode]="codeExamples.installation"
      [language]="'ts'"
    >
      <p class="section-description">
        Install the integra-ng library and import the layout components.
      </p>
    </app-demo-card>

    <!-- Basic Usage -->
    <app-demo-card
      [title]="'Basic Usage'"
      [sourceCode]="codeExamples.basic"
      [language]="'ts'"
    >
      <p class="section-description">
        Set up a basic layout with configuration and menu structure. The layout
        component wraps your application and provides routing through
        router-outlet.
      </p>
    </app-demo-card>

    <!-- Layout Configuration -->
    <app-demo-card
      [title]="'Layout Configuration'"
      [sourceCode]="codeExamples.config"
      [language]="'ts'"
    >
      <p class="section-description">
        Configure your application name, logos for light and dark themes, and
        toggle the theme switcher.
      </p>
      <div class="config-examples">
        <div class="config-item">
          <strong>Website Name:</strong> Displayed in the topbar
        </div>
        <div class="config-item">
          <strong>Logo Light/Dark:</strong> Automatically switches based on
          theme
        </div>
        <div class="config-item">
          <strong>Theme Toggle:</strong> Built-in light/dark mode switcher
        </div>
      </div>
    </app-demo-card>

    <!-- Menu Configuration -->
    <app-demo-card
      [title]="'Menu Configuration'"
      [sourceCode]="codeExamples.menu"
      [language]="'ts'"
    >
      <p class="section-description">
        Define your navigation menu with groups, items, icons, and nested
        sub-menus.
      </p>
    </app-demo-card>

    <!-- Nested Menu Example -->
    <app-demo-card
      [title]="'Nested Menu Example'"
      [sourceCode]="codeExamples.nestedMenu"
      [language]="'ts'"
    >
      <p class="section-description">
        Create multi-level navigation menus with separators between groups.
      </p>
    </app-demo-card>

    <!-- Claims-Based Access Control -->
    <app-demo-card [title]="'Claims-Based Access Control'">
      <p class="section-description">
        Control menu visibility based on user permissions using claims.
        Perfect for role-based access control in your application.
      </p>
    </app-demo-card>

    <!-- Step 1: Create Claims Service -->
    <app-demo-card
      [title]="'Step 1: Create Claims Service'"
      [sourceCode]="codeExamples.claimsService"
      [language]="'ts'"
    >
      <p class="section-description">
        Create a service that implements the <code>ClaimsChecker</code> interface.
        This service determines which claims the current user has.
      </p>
      <div class="usage-notes" style="margin-top: 1rem;">
        <div class="note-item">
          <i class="pi pi-lightbulb"></i>
          <div>
            In a real application, claims would typically come from your
            authentication system (e.g., JWT tokens, OAuth, etc.)
          </div>
        </div>
      </div>
    </app-demo-card>

    <!-- Step 2: Configure Provider -->
    <app-demo-card
      [title]="'Step 2: Configure Provider'"
      [sourceCode]="codeExamples.claimsProvider"
      [language]="'ts'"
    >
      <p class="section-description">
        Use the <code>provideMenuClaimsChecker()</code> function in your app
        configuration. This is the recommended approach following Angular's
        modern provider pattern.
      </p>
    </app-demo-card>

    <!-- Step 3: Add Claims to Menu -->
    <app-demo-card
      [title]="'Step 3: Add Claims to Menu'"
      [sourceCode]="codeExamples.claimsMenu"
      [language]="'ts'"
    >
      <p class="section-description">
        Add <code>claim</code> properties to your menu items and groups. Items
        without claims are always visible.
      </p>
      <div class="config-examples" style="margin-top: 1rem;">
        <div class="config-item">
          <strong>Item Claim:</strong> Controls visibility of individual menu items
        </div>
        <div class="config-item">
          <strong>Group Claim:</strong> Controls visibility of entire menu groups
        </div>
        <div class="config-item">
          <strong>Nested Claims:</strong> Works with sub-menu items at any level
        </div>
        <div class="config-item">
          <strong>Auto-Hide Empty Groups:</strong> Groups with no visible items are automatically hidden
        </div>
      </div>
    </app-demo-card>

    <!-- Claims Features -->
    <app-demo-card [title]="'Claims Checker Features'">
      <p class="section-description">
        <code>{{ codeExamples.claimsFeatures }}</code>
      </p>
    </app-demo-card>

    <!-- Alternative Configuration -->
    <app-demo-card
      [title]="'Alternative: Manual Configuration'"
      [sourceCode]="codeExamples.claimsManual"
      [language]="'ts'"
    >
      <p class="section-description">
        If you prefer manual provider configuration instead of using
        <code>provideMenuClaimsChecker()</code>, you can configure the
        <code>CLAIMS_CHECKER</code> token directly.
      </p>
    </app-demo-card>

    <!-- Custom Topbar Actions -->
    <app-demo-card
      [title]="'Custom Topbar Actions'"
      [sourceCode]="codeExamples.customTopbar"
    >
      <p class="section-description">
        Add custom buttons and actions to the top-right section of the topbar
        using the <code>topbarActions</code> content projection.
      </p>
    </app-demo-card>

    <!-- Components -->
    <app-demo-card [title]="'Available Components'">
      <p class="section-description">
        The layout system is composed of the following components:
      </p>
      <div class="components-grid">
        @for (component of components; track component.name) {
        <div class="component-item">
          <code class="component-name">{{ component.name }}</code>
          <p class="component-description">{{ component.description }}</p>
        </div>
        }
      </div>
    </app-demo-card>

    <!-- Features -->
    <app-demo-card [title]="'Features'">
      <app-features-list [features]="features"></app-features-list>
    </app-demo-card>

    <!-- Usage Notes -->
    <app-demo-card [title]="'Usage Notes'">
      <div class="usage-notes">
        <div class="note-item">
          <i class="pi pi-info-circle"></i>
          <div>
            <strong>Router Outlet:</strong> The layout includes a router-outlet,
            so your routed components will display in the main content area.
          </div>
        </div>
        <div class="note-item">
          <i class="pi pi-info-circle"></i>
          <div>
            <strong>Theme Persistence:</strong> Theme selection is
            automatically saved to localStorage and restored on page reload.
          </div>
        </div>
        <div class="note-item">
          <i class="pi pi-info-circle"></i>
          <div>
            <strong>Mobile Responsive:</strong> The sidebar automatically
            becomes an overlay on mobile devices and closes after navigation.
          </div>
        </div>
        <div class="note-item">
          <i class="pi pi-info-circle"></i>
          <div>
            <strong>Active States:</strong> Menu items automatically highlight
            when their route is active using Angular's routerLinkActive.
          </div>
        </div>
      </div>
    </app-demo-card>
  </div>
</div>
